<p align="center">
    <a href="https://github.com/yiisoft" target="_blank">
        <img src="https://avatars0.githubusercontent.com/u/993323" height="100px">
    </a>
    <h1 align="center">Тестовое задание на Framework Yii2</h1>
    <br>
</p>

Для того, чтобы успешно развернуть приложение необходимо:
<ul>
    <li>1.Установить настройки сервера Nginx (приведены ниже)</li>
    <li>2.Открыть консоль и перейти в папку с проектом и зайти в frontend. Далее, необхоимо перейти в папку web и создать символьную ссылку на backedn <h2>cd frontend/web</h2><h2>ln -s admin ../../backend/web</h2></li>
    <li>3. Чтобы приложение корректно работало, необходимо перейти в "common/config/db" и заполнить поля для подключения к базе данных PostgreSQL</li>
    <li>4. Затем, как вы создадите базу данных, необходимо подгрузить произвести соответствующие миграции. Необходимо зайти в консоль и перейти в корень проекта и прописать следующие команды:<ul>
            <li><h2>sudo php yii migrate/up</h2> и ввести yes, когда попросят.</li>
            <li>Ещё раз ввести данную команду <h2>sudo php yii migrate/up</h2> Чтобы убедиться, что все необходимые миграции были произведены</li>
        </ul></li>
    <li>Наконец, т.к. приложение взаимодействует с электронной почтой, необходимо перейти "common/config/main-locale.php" и заполнить поля username (ваш email) и password(пароль к введённой почте)</li>
     
</ul>
<h1>Если вы всё сделали правильно, то приложение успешно запустится!</h1>
<h2>Пользователи обращаются по "freematiq.test", администратор по freematiq.test/admin</h2>
Пароль для Администратора: < " sFI8kDlr0Z " >

Демо сайт отображает некоторые финансовые операции между контрагентом и внутренними счетами приложения. Данные операции подгружаются из файла .xls, расположенный в data/data.xls в админ панеле. Не удалось настроить должным образом ЧПУ для backend раздела (не стал на это тратить много времени, чтобы сделать всё по ТЗ) 


Настройки Nginx
-------------------

```
server {
	listen 80;
	# SSL configuration
	#
	# listen 443 ssl default_server;
	# listen [::]:443 ssl default_server;
	#
	# Note: You should disable gzip for SSL traffic.
	# See: https://bugs.debian.org/773332
	#
	# Read up on ssl_ciphers to ensure a secure configuration.
	# See: https://bugs.debian.org/765782
	#
	# Self signed certs generated by the ssl-cert package
	# Don't use them in a production server!
	#
	# include snippets/snakeoil.conf;

	root /var/www/freematiq/frontend/web;

	# Add index.php to the list if you are using PHP
	index index.php index.html index.htm index.nginx-debian.html;

	server_name freematiq.test;

	location / {
        	index  index.html index.php;
        	try_files $uri $uri/ /index.php?$args;
    	}
	location /admin {
        	index  index.html index.php;
        	try_files $uri $uri/ /index.php?$args;
    	}

	# pass PHP scripts to FastCGI server
	#
	location ~ \.php$ {
		include snippets/fastcgi-php.conf;
	#
		# With php-fpm (or other unix sockets):
		fastcgi_pass unix:/var/run/php/php7.2-fpm.sock;
		# With php-cgi (or other tcp sockets):
		#fastcgi_pass 127.0.0.1:9000;
	}

	# deny access to .htaccess files, if Apache's document root
	# concurs with nginx's one
	#
	location ~ /\.ht {
		deny all;
	}
}

```
